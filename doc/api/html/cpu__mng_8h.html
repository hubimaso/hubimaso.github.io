<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cpu_mng.h 文件参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="NAPLIB.PNG"/></td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief">网络分析平台库</div>
    </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','搜索');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('cpu__mng_8h.html','');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#enum-members">枚举</a> &#124;
<a href="#func-members">函数</a>  </div>
  <div class="headertitle">
<div class="title">cpu_mng.h 文件参考</div>  </div>
</div><!--header-->
<div class="contents">

<p>CPU管理，提供与CPU相关接口  
<a href="#details">更多...</a></p>

<p><a href="cpu__mng_8h_source.html">浏览源代码.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
枚举</h2></td></tr>
<tr class="memitem:aa098d9218db0504460686e5d7c8c9b41"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpu__mng_8h.html#aa098d9218db0504460686e5d7c8c9b41">CPU_TYPE</a> { <a class="el" href="cpu__mng_8h.html#aa098d9218db0504460686e5d7c8c9b41a5be3cb63f1de7afe4864f2d3fe3d9608">CPU_SHARE_ALL</a> = 0, 
<a class="el" href="cpu__mng_8h.html#aa098d9218db0504460686e5d7c8c9b41a83facc9acfce6b7a424b36b55240ba7f">CPU_LOGIC_SET</a> = 1, 
<a class="el" href="cpu__mng_8h.html#aa098d9218db0504460686e5d7c8c9b41ab9cf9f983103b31ddaa2dff1d5b38ecf">CPU_PHY_SET</a> = 2
 }</td></tr>
<tr class="separator:aa098d9218db0504460686e5d7c8c9b41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad1e34f548996f697fba193e4c47fb0f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpu__mng_8h.html#aad1e34f548996f697fba193e4c47fb0f">CPU_SHARE_PRI</a> { <a class="el" href="cpu__mng_8h.html#aad1e34f548996f697fba193e4c47fb0fa4643c23827f872f7534718021f4031fa">CPU_SHARE_LOW</a> = 0, 
<a class="el" href="cpu__mng_8h.html#aad1e34f548996f697fba193e4c47fb0faa9a5ff8a32cd3e7a991f38960f10029b">CPU_SHARE_HIGH</a> = 1
 }</td></tr>
<tr class="separator:aad1e34f548996f697fba193e4c47fb0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
函数</h2></td></tr>
<tr class="memitem:a7041bed1b3e57b4be2f313cf69e5c35b"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpu__mng_8h.html#a7041bed1b3e57b4be2f313cf69e5c35b">get_ht_cpuid</a> (int32_t src_cpuid, int32_t *ht_cpuid)</td></tr>
<tr class="separator:a7041bed1b3e57b4be2f313cf69e5c35b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30c1a5809d1b6579d6a6f17a4896e53b"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpu__mng_8h.html#a30c1a5809d1b6579d6a6f17a4896e53b">cpu_bind_parse</a> (char *cpu_string, uint8_t *cpu_list)</td></tr>
<tr class="separator:a30c1a5809d1b6579d6a6f17a4896e53b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35cab5232d875437e0181c52dd067eb5"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpu__mng_8h.html#a35cab5232d875437e0181c52dd067eb5">auto_alloc_cpuid</a> (int32_t numa_id, <a class="el" href="cpu__mng_8h.html#aa098d9218db0504460686e5d7c8c9b41">CPU_TYPE</a> cpu_type, <a class="el" href="cpu__mng_8h.html#aad1e34f548996f697fba193e4c47fb0f">CPU_SHARE_PRI</a> cpu_share_pri)</td></tr>
<tr class="separator:a35cab5232d875437e0181c52dd067eb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4677314ead36f33d8fb35b2b78a50738"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpu__mng_8h.html#a4677314ead36f33d8fb35b2b78a50738">get_syscore_cpuid</a> (void)</td></tr>
<tr class="separator:a4677314ead36f33d8fb35b2b78a50738"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac5da0214aeeb3c81c165a44b4675d4f"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpu__mng_8h.html#aac5da0214aeeb3c81c165a44b4675d4f">get_numaid_by_cpuid</a> (int32_t cpuid)</td></tr>
<tr class="separator:aac5da0214aeeb3c81c165a44b4675d4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p>CPU管理，提供与CPU相关接口 </p>
<dl class="section author"><dt>作者</dt><dd>hubimaso </dd></dl>
<dl class="section version"><dt>版本</dt><dd>v1.0.0 </dd></dl>
<dl class="section date"><dt>日期</dt><dd>2018-12-10 </dd></dl>
<dl class="section note"><dt>注解</dt><dd>功能：cpu绑定自动分配算法等 </dd></dl>
<dl class="section since"><dt>自从</dt><dd>版本v1.0.0 提供的管理接口 </dd></dl>

<p class="definition">在文件 <a class="el" href="cpu__mng_8h_source.html">cpu_mng.h</a> 中定义.</p>
</div><h2 class="groupheader">枚举类型说明</h2>
<a id="aa098d9218db0504460686e5d7c8c9b41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa098d9218db0504460686e5d7c8c9b41">&#9670;&nbsp;</a></span>CPU_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="cpu__mng_8h.html#aa098d9218db0504460686e5d7c8c9b41">CPU_TYPE</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>CPU共享设置 </p>
<table class="fieldtable">
<tr><th colspan="2">枚举值</th></tr><tr><td class="fieldname"><a id="aa098d9218db0504460686e5d7c8c9b41a5be3cb63f1de7afe4864f2d3fe3d9608"></a>CPU_SHARE_ALL&#160;</td><td class="fielddoc"><p>cpuid可以共享，即cpuid值可以相同 </p>
</td></tr>
<tr><td class="fieldname"><a id="aa098d9218db0504460686e5d7c8c9b41a83facc9acfce6b7a424b36b55240ba7f"></a>CPU_LOGIC_SET&#160;</td><td class="fielddoc"><p>cpuid的逻辑核独占，及cpuid不能相同 </p>
</td></tr>
<tr><td class="fieldname"><a id="aa098d9218db0504460686e5d7c8c9b41ab9cf9f983103b31ddaa2dff1d5b38ecf"></a>CPU_PHY_SET&#160;</td><td class="fielddoc"><p>cpuid的物理核独占，及cpuid对应的超线程id不能配置 </p>
</td></tr>
</table>

<p class="definition">在文件 <a class="el" href="cpu__mng_8h_source.html">cpu_mng.h</a> 第 <a class="el" href="cpu__mng_8h_source.html#l00020">20</a> 行定义.</p>

</div>
</div>
<a id="aad1e34f548996f697fba193e4c47fb0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad1e34f548996f697fba193e4c47fb0f">&#9670;&nbsp;</a></span>CPU_SHARE_PRI</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="cpu__mng_8h.html#aad1e34f548996f697fba193e4c47fb0f">CPU_SHARE_PRI</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>CPU优先级设置 </p>
<table class="fieldtable">
<tr><th colspan="2">枚举值</th></tr><tr><td class="fieldname"><a id="aad1e34f548996f697fba193e4c47fb0fa4643c23827f872f7534718021f4031fa"></a>CPU_SHARE_LOW&#160;</td><td class="fielddoc"><p>针对CPU_SHAER_ALL配置下，cpuid共享数量多 </p>
</td></tr>
<tr><td class="fieldname"><a id="aad1e34f548996f697fba193e4c47fb0faa9a5ff8a32cd3e7a991f38960f10029b"></a>CPU_SHARE_HIGH&#160;</td><td class="fielddoc"><p>针对CPU_SHAER_ALL配置下，cpuid共享数量较LOW少 </p>
</td></tr>
</table>

<p class="definition">在文件 <a class="el" href="cpu__mng_8h_source.html">cpu_mng.h</a> 第 <a class="el" href="cpu__mng_8h_source.html#l00030">30</a> 行定义.</p>

</div>
</div>
<h2 class="groupheader">函数说明</h2>
<a id="a7041bed1b3e57b4be2f313cf69e5c35b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7041bed1b3e57b4be2f313cf69e5c35b">&#9670;&nbsp;</a></span>get_ht_cpuid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t get_ht_cpuid </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>src_cpuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>ht_cpuid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>获取超线程cpu id </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">src_cpuid</td><td>超线程cpuid的配对的cpuid </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ht_cpuid</td><td>超线程cpuid </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>成功：0，失败：-1 </dd></dl>
<dl class="section warning"><dt>警告</dt><dd>参数不能为空 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><br />
</dd></dl>
<dl class="section see"><dt>参见</dt><dd>参考sample相关用例 </dd></dl>

</div>
</div>
<a id="a30c1a5809d1b6579d6a6f17a4896e53b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30c1a5809d1b6579d6a6f17a4896e53b">&#9670;&nbsp;</a></span>cpu_bind_parse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t cpu_bind_parse </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cpu_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>cpu_list</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>cpu 字符串列表解析 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cpu_string</td><td>cpu字符串列表 </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">cpu_list</td><td>cpu整形列表 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>成功：0，失败：-1 </dd></dl>
<dl class="section warning"><dt>警告</dt><dd>仅支持分隔符 以“：”、以“|”、以“-”，以“，” </dd></dl>
<dl class="section see"><dt>参见</dt><dd>参考sample相关用例 </dd></dl>

</div>
</div>
<a id="a35cab5232d875437e0181c52dd067eb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35cab5232d875437e0181c52dd067eb5">&#9670;&nbsp;</a></span>auto_alloc_cpuid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t auto_alloc_cpuid </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>numa_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cpu__mng_8h.html#aa098d9218db0504460686e5d7c8c9b41">CPU_TYPE</a>&#160;</td>
          <td class="paramname"><em>cpu_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cpu__mng_8h.html#aad1e34f548996f697fba193e4c47fb0f">CPU_SHARE_PRI</a>&#160;</td>
          <td class="paramname"><em>cpu_share_pri</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>cpu 自动分配id </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">numa_id</td><td>在指定的numa_id上分配cpuid </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cpu_type</td><td>根据cpu_type分配cpu_id </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cpu_share_pri</td><td>在cpuid可以共享的情况下，根据优先级分配cpuid </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>成功：cpuid，失败：-1 </dd></dl>
<dl class="section warning"><dt>警告</dt><dd>参数不能为空 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><br />
</dd></dl>
<dl class="section see"><dt>参见</dt><dd>参考sample相关用例 </dd></dl>

</div>
</div>
<a id="a4677314ead36f33d8fb35b2b78a50738"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4677314ead36f33d8fb35b2b78a50738">&#9670;&nbsp;</a></span>get_syscore_cpuid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t get_syscore_cpuid </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>获取系统资源所在cpuid </p><dl class="section return"><dt>返回</dt><dd>cpuid </dd></dl>
<dl class="section see"><dt>参见</dt><dd>参考sample相关用例 </dd></dl>

</div>
</div>
<a id="aac5da0214aeeb3c81c165a44b4675d4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac5da0214aeeb3c81c165a44b4675d4f">&#9670;&nbsp;</a></span>get_numaid_by_cpuid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t get_numaid_by_cpuid </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>cpuid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>获取cpuid对应的numa_id </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cpuid</td><td>cpuid，cpuid=-1表示获取当前线程cpu所在numaid </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>numa_id,即cpuid所在的numa_id </dd></dl>
<dl class="section see"><dt>参见</dt><dd>参考sample相关用例 </dd></dl>
<dl><dt><b>示例: </b></dt><dd><a class="el" href="examples_2mem_mng_example_8c-example.html#a1">examples/mem_mng_example.c</a>.</dd>
</dl>
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_f832923ad3cb060bc87ad85e68b8a1c3.html">public</a></li><li class="navelem"><a class="el" href="dir_0fb2101ba02d68f078970216a1fe0334.html">include</a></li><li class="navelem"><a class="el" href="dir_053b8ab4c6d0f736772003381ca40e09.html">libnap</a></li><li class="navelem"><a class="el" href="dir_0ffd98f18cd04bfe975eb8c1499a44ac.html">libcpu_mng</a></li><li class="navelem"><a class="el" href="cpu__mng_8h.html">cpu_mng.h</a></li>
    <li class="footer">制作者
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
